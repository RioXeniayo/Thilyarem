<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="vbYMtcgZQlWbWMb0VvWjPbF8H2ArQa3BCoauyG4X">
    <title>Beasts of Inallo - Breeding Roller</title>
    
    <link href="https://wiki.beasts-of-inallo.com/css/app.css" rel="stylesheet">
    <script src="https://wiki.beasts-of-inallo.com/js/app.js" defer></script>
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <script defer src="https://unpkg.com/alpinejs@3.13.10/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>
<body class="sb-nav-fixed">
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
        <a class="navbar-brand ps-3" href="https://wiki.beasts-of-inallo.com">Beasts of Inallo</a>
        <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i class="fas fa-bars"></i></button>
        <ul class="navbar-nav ms-auto me-3 me-lg-4"></ul>
    </nav>

    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                <div class="sb-sidenav-menu">
                    <div class="nav">
                        <div class="sb-sidenav-menu-heading">Core</div>
                        <a class="nav-link" href="https://wiki.beasts-of-inallo.com">
                            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
                            Home
                        </a>
                        <div class="sb-sidenav-menu-heading">Utilities</div>
                        <a class="nav-link" href="https://wiki.beasts-of-inallo.com/utilities/breeding_roller">
                            <div class="sb-nav-link-icon"><i class="fas fa-dna"></i></div>
                            Breeding Roller
                        </a>
                        </div>
                </div>
            </nav>
        </div>
        <div id="layoutSidenav_content">
            <main>
                <div class="d-flex" style="background-image: url(http://googleusercontent.com/file_content/0); background-size: cover; height: 15rem;">
                    <h1 class="text-light mx-5 mt-auto mb-5" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.7)">Breeding Roller</h1>
                </div>
                <div class="container-fluid p-4">
                    <ol class="breadcrumb mb-4"></ol>
                    <div>
                        <div class="breeding" x-data="breedingroller" x-init="load()">
                            <div class="row mb-3">
                                <div class="col-12 col-md-4">
                                    <h4>Parent A</h4>
                                    <div class="mb-3">
                                        <label for="sire_breed" class="form-label">Breed</label>
                                        <select id="sire_breed" x-model="p_a.species" class="form-select">
                                            <template x-for="value in data.breeds"><option :value="value" x-text="value"></option></template>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="sire_geno" class="form-label">Genotype</label>
                                        <input type="text" id="sire_geno" x-model="p_a.genotype" x-on:change="p_a.phenotype = getPhenotype(p_a.genotype)" class="form-control mb-2">
                                    </div>
                                    <div class="mb-3">
                                        <label for="sire_pheno" class="form-label">Phenotype</label>
                                        <input type="text" id="sire_pheno" x-model="p_a.phenotype" class="form-control mb-2" readonly>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8 mb-3">
                                            <label for="sire_rank" class="form-label">Rank</label>
                                            <select id="sire_rank" x-model="p_a.rank" class="form-select">
                                                <template x-for="value in data.ranks"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="sire_fertility" class="form-label">Fertility</label>
                                            <select id="sire_fertility" x-model="p_a.fertility" class="form-select">
                                                <template x-for="value in data.fertility"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 mb-3">
                                            <label for="sire_ability" class="form-label">Ability</label>
                                            <select id="sire_ability" x-model="p_a.ability" class="form-select">
                                                <option selected></option>
                                                <template x-for="value in data.abilities"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="sire_element" class="form-label">Element</label>
                                            <select id="sire_element" x-model="p_a.element" class="form-select">
                                                <option selected></option>
                                                <template x-for="value in data.elements"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="sire_aberrant" class="form-label">Aberration</label>
                                            <select id="sire_aberrant" x-model="p_a.aberrant" class="form-select">
                                                <option selected></option>
                                                <template x-for="value in data.aberrations"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4">
                                    <h4>Parent B</h4>
                                    <div class="mb-3">
                                        <label for="dam_breed" class="form-label">Breed</label>
                                        <select id="dam_breed" x-model="p_b.species" class="form-select">
                                            <template x-for="value in data.breeds"><option :value="value" x-text="value"></option></template>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="dam_geno" class="form-label">Genotype</label>
                                        <input type="text" id="dam_geno" x-model="p_b.genotype" x-on:change="p_b.phenotype = getPhenotype(p_b.genotype)" class="form-control">
                                    </div>
                                    <div class="mb-3">
                                        <label for="dam_pheno" class="form-label">Phenotype</label>
                                        <input type="text" id="dam_pheno" x-model="p_b.phenotype" class="form-control mb-2" readonly>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8 mb-3">
                                            <label for="dam_rank" class="form-label">Rank</label>
                                            <select id="dam_rank" x-model="p_b.rank" class="form-select">
                                                <template x-for="value in data.ranks"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="dam_fertility" class="form-label">Fertility</label>
                                            <select id="dam_fertility" x-model="p_b.fertility" class="form-select">
                                                <template x-for="value in data.fertility"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 mb-3">
                                            <label for="dam_ability" class="form-label">Ability</label>
                                            <select id="dam_ability" x-model="p_b.ability" class="form-select">
                                                <option selected></option>
                                                <template x-for="value in data.abilities"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="dam_element" class="form-label">Element</label>
                                            <select id="dam_element" x-model="p_b.element" class="form-select">
                                                <option selected></option>
                                                <template x-for="value in data.elements"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="dam_aberrant" class="form-label">Aberration</label>
                                            <select id="dam_aberrant" x-model="p_b.aberrant" class="form-select">
                                                <option selected></option>
                                                <template x-for="value in data.aberrations"><option :value="value" x-text="value"></option></template>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4">
                                    <h4>Items</h4>
                                    <div class="mb-3">
                                        <label for="gender_pot" class="form-label">Sex-Determination Potion</label>
                                        <select id="gender_pot" x-model="items.gender_pot" class="form-select">
                                            <option selected></option>
                                            <template x-for="value in data.potions.gender"><option :value="value" x-text="value"></option></template>
                                        </select>
                                    </div>
                                    <div class="row mb-3 align-items-center">
                                        <div class="col-6"><label for="minor_fert" class="col-form-label form-label" x-text="data.potions.stacking.MINOR_FERT"></label></div>
                                        <div class="col-6"><input type="number" id="minor_fert" x-model.number="items.minor_fert" @change="validatePotionAllowance" class="form-control" min=0 max=2></div>
                                    </div>
                                    <div class="row mb-3 align-items-center">
                                        <div class="col-6"><label for="major_fert" class="col-form-label form-label" x-text="data.potions.stacking.MAJOR_FERT"></label></div>
                                        <div class="col-6"><input type="number" id="major_fert" x-model.number="items.major_fert" @change="validatePotionAllowance" class="form-control" min=0 max=2></div>
                                    </div>
                                    <div class="row mb-3 align-items-center">
                                        <div class="col-6"><label for="unstable_elixir" class="col-form-label form-label" x-text="data.potions.stacking.UNSTABLE_ELIXIR"></label></div>
                                        <div class="col-6"><input type="number" id="unstable_elixir" x-model.number="items.unstable_elixir" @change="validatePotionAllowance" class="form-control" min=0 max=3></div>
                                    </div>
                                    <div class="mb-4"><small>A maximum of 3 stacking potions can be used on a breeding.</small></div>
                                    <h4>Inbreeding</h4>
                                    <div class="row mb-4 align-items-center">
                                        <div class="col-6"><label for="coi" class="col-form-label form-label"><abbr title="Coefficient of Inbreeding">COI</abbr></label></div>
                                        <div class="col-6">
                                            <div class="input-group">
                                                <input type="number" id="coi" x-model.number="coi" class="form-control" min=0 max=100 step=.01>
                                                <span class="input-group-text">%</span>
                                            </div>
                                        </div>
                                        <div class="col-12"><small>You can calculate your breeding pair's COI with the <a href="https://wiki.beasts-of-inallo.com/calculator/coi" target="_blank">COI calculator</a>.</small></div>
                                    </div>
                                    <div class="d-flex justify-content-end">
                                        <button @click="reset" class="btn btn-secondary me-2">Reset Form</button>
                                        <button id="rollBreeding" class="btn btn-primary">Roll Breeding</button>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                               <ul class="nav nav-tabs" id="roller-tabs" role="tablist">
                                    <li class="nav-item" role="presentation"><button class="nav-link active" id="results-tab" data-bs-toggle="tab" data-bs-target="#results" type="button" role="tab" aria-controls="results" aria-selected="true">Results</button></li>
                                    <li class="nav-item" role="presentation"><button class="nav-link" id="possibilities-tab" data-bs-toggle="tab" data-bs-target="#possibilities" type="button" role="tab" aria-controls="possibilities" aria-selected="false">Possibilities</button></li>
                                </ul>
                                <div class="tab-content bg-light rounded-bottom p-4" id="roller-tab-content">
                                    <div class="tab-pane fade show active" id="results" role="tabpanel" aria-labelledby="results-tab">...</div>
                                    <div class="tab-pane fade" id="possibilities" role="tabpanel" aria-labelledby="possibilities-tab">
                                         </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            <footer class="py-4 bg-light mt-auto">
                <div class="container-fluid px-4">
                    <div class="d-flex align-items-center justify-content-between small">
                        <div class="text-muted">Copyright &copy; Beasts of Inallo</div>
                        <div>
                            <a href="#">Terms of Service</a> &middot;
                            <a href="#">Privacy Policy</a> &middot;
                            <a href="#">Etiquette Policy</a>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    
    <script src="./js/gene_maps.js"></script>
    <script src="./js/old_genes.js"></script>
    <script src="./js/genotype-helper.js"></script>
    <script src="./js/phenotype-helper.js"></script>
    <script src="./js/punnett-helper.js"></script>
    <script src="./js/clutch_size.js"></script>
    <script src="./js/items.js"></script>
    <script src="./js/item-list.js"></script>
    <script src="./js/genetics-services.js"></script>
    <script src="./js/breed_mix.js"></script>
    <script src="./js/breeding.js"></script>
    <script src="./js/chart_colors.js"></script>
    <script src="./js/breeding-roller.js"></script>
</body>
</html>
